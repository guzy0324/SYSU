# <center>第1次实验</center>
### 一、实验目的：
1. 熟悉SQL的数据定义语言，
2. 能够熟练地使用SQL语句来创建和更改基本表,创建和取消索引。 
### 二、实验内容
1. 创建数据库表CUSTOMERS(CID,CNAME,CITY,DISCNT)，数据库表AGENTS(AID,ANAME,CITY,PERCENT)，数据库表 PRODUCTS(PID,PNAME)，其中，CID，AID，PID分别是各表的主键，具有唯一性约束。
2. 创建数据库表ORDERS(ORDNA,MONTH,CID,AID,PID,QTY,DOLLARS)。其中，ORDNA是主键，具有唯一性约束。CID，AID，PID是外键，分别参照的是表CUSTOMERS的CID字段，表AGENTS的AID字段，表PRODUCTS的PID字段。
3. 增加数据库表PRODUCTS的三个属性列：CITY，QUANTITY，PRICE。
4. 为以上4个表建立各自的按主键增序排列的索引。
5. 取消步骤(4)建立的4个索引。
### 三、代码
```sql
--create_database.sql
CREATE DATABASE MY_TEST
```
```sql
--create_table.sql
USE MY_TEST
CREATE TABLE CUSTOMERS
(
    CID CHAR(8) NOT NULL UNIQUE,
    CNAME CHAR(20) NOT NULL,
    CITY CHAR(20) NOT NULL,
    DISCNT CHAR(20) NOT NULL,
    PRIMARY KEY(CID)
)
CREATE TABLE AGENTS
(
    AID CHAR(8) NOT NULL UNIQUE,
    ANAME CHAR(20) NOT NULL,
    CITY CHAR(20) NOT NULL,
    PERCEN CHAR(20) NOT NULL,
    PRIMARY KEY(AID)
)
CREATE TABLE PRODUCTS
(
    PID CHAR(8) NOT NULL UNIQUE,
    PNAME CHAR(20) NOT NULL
        PRIMARY KEY(PID)
)
CREATE TABLE ORDERS
(
    ORDNA CHAR(8) NOT NULL UNIQUE,
    MONTH CHAR(8) NOT NULL,
    CID CHAR(8) NOT NULL UNIQUE,
    AID CHAR(8) NOT NULL UNIQUE,
    PID CHAR(8) NOT NULL UNIQUE,
    QTY CHAR(8) NOT NULL,
    DOLLARS CHAR(8) NOT NULL,
    PRIMARY KEY(ORDNA),
    FOREIGN KEY(CID) REFERENCES CUSTOMERS ON DELETE CASCADE,
    FOREIGN KEY(AID) REFERENCES AGENTS ON DELETE CASCADE,
    FOREIGN KEY(PID) REFERENCES PRODUCTS ON DELETE CASCADE
)
```
```sql
--add_column.sql
USE MY_TEST
ALTER TABLE PRODUCTS ADD CITY CHAR(20) NOT NULL
ALTER TABLE PRODUCTS ADD QUANTITY CHAR(20) NOT NULL
ALTER TABLE PRODUCTS ADD PRICE CHAR(20) NOT NULL
```
```sql
--create_index.sql
USE MY_TEST
CREATE INDEX XSNO ON CUSTOMERS(CID)
CREATE INDEX XSNO ON AGENTS(AID)
CREATE INDEX XSNO ON PRODUCTS(PID)
CREATE INDEX XSNO ON ORDERS(ORDNA)
```
```sql
--drop_index.sql
USE MY_TEST
DROP INDEX CUSTOMERS.XSNO
DROP INDEX AGENTS.XSNO
DROP INDEX PRODUCTS.XSNO
DROP INDEX ORDERS.XSNO
```
### 四、结果
1. create_table.sql
总览：
![avatar](table.png)
AGENTS：
![avatar](table1.png)
CUSTOMERS：
![avatar](table2.png)
ORDERS：
![avatar](table3.png)
PRODUCTS：
![avatar](table4.png)
2. add_column.sql
![avatar](add.png)
3. create_index.sql
AGNETS：
![avatar](index1.png)
CUSTOMERS：
![avatar](index2.png)
ORDERS：
![avatar](index3.png)
PRODUCTS：
![avatar](index4.png)
4. drop_index.sql
AGNETS：
![avatar](drop1.png)
CUSTOMERS：
![avatar](drop2.png)
ORDERS：
![avatar](drop3.png)
PRODUCTS：
![avatar](drop4.png)